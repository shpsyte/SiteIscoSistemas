<!DOCTYPE html>
<html lang="en">

<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="">
  <meta name="author" content="">

  <link href="css/botsite.css" rel="stylesheet">

</head>

<body>


  <div id="bot" />
  <script src="https://cdn.botframework.com/botframework-webchat/latest/botchat.js"></script>
  <script>




    document.addEventListener("DOMContentLoaded", function (event) {
      document.querySelector(".wc-header span").innerHTML = "Agente Virtual ";
      document.querySelector(".wc-shellinput").placeholder = "Ex. Como comprar, ou Preciso de suporte...";
      
      wc-shellinput
    });
    const botConnection = new BotChat.DirectLine({
      // domain: params['domain'],
      secret: "_sCtJ_yiHjQ.cwA.nyc.OM1xde4Obm9oI1RonXvMblBAhJEgUrLftpLNhSxONWs",
      webSocket: true
    });

    botConnection.activity$
      .filter(function (activity) {
        return activity.type === 'event' && activity.name === 'changeBackground';
      })
      .subscribe(function (activity) {
        console.log('"changeBackground" received with value: ' + activity.value);
        changeBackgroundColor(activity.value);
      });

    function changeBackgroundColor(newColor) {
      document.body.style.backgroundColor = newColor;
    }

    BotChat.App({

      botConnection: botConnection,
      user: { id: 'userid' },
      bot: { id: 'botid' },
      resize: 'detect',
      sendTyping: true,
    }, document.getElementById("bot"));

//   botConnection
//     .postActivity({
//     from: { id: 'me' },
//     name: 'buttonClicked',
//     type: 'event',
//     value: ''
//     })
//     .subscribe(function (id) {
//     //console.log('"buttonClicked" sent');
//     });

  </script>
</body>

</html>